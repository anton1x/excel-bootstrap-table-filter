<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Excel Bootstrap Table Filter</title>
</head>

<body>
  <!-- Load jQuery -->
  <script src="../node_modules/jquery/dist/jquery.min.js"></script>
  <!-- Load the plugin bundle. -->
  <script src="excel-bootstrap-table-filter-bundle.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" />
  <link rel="stylesheet" href="excel-bootstrap-table-filter-style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>

  <section class="alternate page-heading">
    <div class="container">
      <header>
        <h1>Excel-style Bootstrap Table filter jQuery plugin</h1>
      </header>
      <p class="lead"></p>
    </div>
  </section>
  <hr>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h2>Table 1</h2>
      <table id="table" class="table table-bordered table-intel">
        <thead>
          <tr>
            <th class="filter">Animal</th>
            <th class="filter">Class</th>
            <th class="filter">Collective Noun</th>
            <th class="filter">A Number</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Bear</td>
            <td>Mammal</td>
            <td>Sleuth</td>
            <td>1</td>
          </tr>
          <tr>
            <td>Ant</td>
            <td>Insect</td>
            <td>Army</td>
            <td>2</td>
          </tr>
          <tr>
            <td>Salamander</td>
            <td>Amphibian</td>
            <td>Congress</td>
            <td>3</td>
          </tr>
          <tr>
            <td>Owl</td>
            <td>Bird</td>
            <td>Parliament</td>
            <td>4</td>
          </tr>
          <tr>
            <td>Frog</td>
            <td>Amphibian</td>
            <td>Army</td>
            <td>5</td>
          </tr>
          <tr>
            <td>Shark</td>
            <td>Fish</td>
            <td>Gam</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Kookaburra</td>
            <td>Bird</td>
            <td>Cackle</td>
            <td>7</td>
          </tr>
          <tr>
            <td>Crow</td>
            <td>Bird</td>
            <td>Murder</td>
            <td>8</td>
          </tr>
          <tr>
            <td>Elephant</td>
            <td>Mammal</td>
            <td>Herd</td>
            <td>9</td>
          </tr>
          <tr>
            <td>Barracude</td>
            <td>Fish</td>
            <td>Grist</td>
            <td>10</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <h2>Table 2</h2>
      <table id="table2" class="table table-bordered table-intel">
        <thead>
          <tr>
            <th class="filter">Animal</th>
            <th class="filter">Class</th>
            <th class="filter">Collective Noun</th>
            <th class="filter">A Number</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Bear</td>
            <td>Mammal</td>
            <td>Sleuth</td>
            <td>1</td>
          </tr>
          <tr>
            <td>Ant</td>
            <td>Insect</td>
            <td>Army</td>
            <td>2</td>
          </tr>
          <tr>
            <td>Salamander</td>
            <td>Amphibian</td>
            <td>Congress</td>
            <td>3</td>
          </tr>
          <tr>
            <td>Owl</td>
            <td>Bird</td>
            <td>Parliament</td>
            <td>4</td>
          </tr>
          <tr>
            <td>Frog</td>
            <td>Amphibian</td>
            <td>Army</td>
            <td>5</td>
          </tr>
          <tr>
            <td>Shark</td>
            <td>Fish</td>
            <td>Gam</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Kookaburra</td>
            <td>Bird</td>
            <td>Cackle</td>
            <td>7</td>
          </tr>
          <tr>
            <td>Crow</td>
            <td>Bird</td>
            <td>Murder</td>
            <td>8</td>
          </tr>
          <tr>
            <td>Elephant</td>
            <td>Mammal</td>
            <td>Herd</td>
            <td>9</td>
          </tr>
          <tr>
            <td>Barracude</td>
            <td>Fish</td>
            <td>Grist</td>
            <td>10</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <h2>Table 3</h2>
      <table id="table3" class="table table-bordered table-intel">
        <thead>
          <tr>
            <th>Company</th>
            <th>Contact</th>
            <th>Country</th>
            <th class="no-filter no-search">Time</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Alfreds Futterkiste</td>
            <td>Maria Anders</td>
            <td>Germany</td>
            <td>21.09.2022 12:45:23</td>
          </tr>
          <tr>
            <td>Centro comercial Moctezuma</td>
            <td>Francisco Chang</td>
            <td>Mexico</td>
            <td>21.09.2022 12:45:28</td>
          </tr>
          <tr>
            <td>Ernst Handel</td>
            <td>Roland Mendel</td>
            <td>Austria; Russia</td>
            <td>25.09.2021 12:45:23</td>
          </tr>
          <tr>
            <td>Island Trading</td>
            <td>Helen Bennett</td>
            <td>UK; Sweden</td>
            <td>21.10.2022 12:45:23</td>
          </tr>
          <tr>
            <td>Laughing Bacchus Winecellars</td>
            <td>Yoshi Tannamuri</td>
            <td>Canada</td>
            <td>21.09.2024 12:45:23</td>
          </tr>
          <tr>
            <td>Magazzini Alimentari Riuniti</td>
            <td>Giovanni Rovelli</td>
            <td></td>
            <td>21.09.2022 12:45:23</td>
          </tr>
        </tbody>
      </table>
      <div class="not_found" style="display: none;">Не найдено элементов</div>
    </div>
  </div>
</div>


  <script>
    // Use the plugin once the DOM has been loaded.
    $(function () {
      // Apply the plugin
      $('#table').excelTableFilter();
      $('#table2').excelTableFilter();
      $('#table3').excelTableFilter(
        {
          captions: {
            a_to_z: 'A to Z',
            z_to_a: 'Z to A',
            search: 'Search',
            select_all: 'Select All',
          },

          sortDateFormat: "DD.MM.YYYY HH:mm:ss",

          moment: moment,

          onChangeSort(column, direction) {
            console.log('change sort:', column, direction);
          },

          onUpdateVisibility(rows) {
            var countVisible = 0;
            $(rows).each(function(idx, item) {
              if (!$(item).is(':hidden')) {
                countVisible++;
              }
            });
            console.log(countVisible);
            if (countVisible === 0) {
              $('.not_found').show();
            } else {
              $('.not_found').hide();
            }

          },

          mapTextToCaption: function(s) {
            var emptyValues = ['', '-'];
            if (emptyValues.includes(s.trim())) {
              return "(Пусто)";
            }
            return s;
          }
        }
      );
    });
  </script>
</body>

</html>

